# 更新日志

所有重要的项目更改都会记录在此文件中。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
并且本项目遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

## [1.2.0] - 2024-12-22

### 新增 ✨
- **事件响应配置Web界面** - 完整实现事件响应配置的前端管理界面
  - 新增"⚡ 事件响应"标签页
  - 支持玩家加入/退出/受伤事件的完整配置
  - 现代化UI设计，响应式布局
  - 智能单位换算和实时预览
- **专业CSS样式系统** - 新增150+行专用样式
  - 渐变色彩设计和交互效果
  - 响应式设计适配移动设备
  - 增强的表单控件样式
- **配置数据结构完善** - 在前端添加完整的events配置支持
- **详细说明文档** - 内置功能说明和使用建议

### 改进 🔧
- **配置项完整性提升** - 从73%提升到92%
- **用户体验优化** - 更直观的配置界面和操作流程
- **前后端数据同步** - 确保配置加载和保存的一致性
- **项目文档重写** - 全面更新README和技术文档

### 修复 🐛
- **事件响应配置前端缺失** - 解决了最严重的用户体验问题
- **配置项映射验证** - 确保所有配置项正确对接
- **API密钥安全保护** - 在配置文件中使用占位符保护真实密钥

### 安全 🔒
- **API密钥保护** - 配置文件中的API密钥替换为占位符
- **配置验证增强** - 改进配置项的验证和错误处理

## [1.1.0618] - 2024-12-19

### 新增 ✨
- **Web可视化管理界面** - 全新的现代化Web管理界面
- **实时监控系统** - 服务器状态、性能数据实时显示
- **可视化配置管理** - 图形界面配置，告别复杂的文件编辑
- **响应式设计** - 支持手机、平板、电脑多设备访问
- **性能基准测试** - 内置性能测试和优化建议系统
- **历史记录管理** - 新增`/aichat clear`命令清空历史
- **角色一致性保护** - 防止AI因历史记录变化而性格不稳定

### 改进 🔧
- **异步处理优化** - 完全异步化处理，消除游戏卡顿
- **智能缓存系统** - 环境信息智能缓存，性能提升50%+
- **TPS精确检测** - 修复TPS误报问题
- **配置驱动架构** - 所有功能均可通过配置文件调整
- **自然对话风格** - AI回复更加自然，告别格式化

### 修复 🐛
- **配置路径映射** - 修复所有配置项的路径不匹配问题
- **主线程阻塞** - 环境收集改为完全异步，不再阻塞主线程
- **内存泄漏** - 优化缓存机制，修复潜在的内存问题
- **并发安全** - 加强线程安全和并发处理

### 破坏性变更 ⚠️
- 旧版本历史记录需要手动清空（`/aichat clear`）
- 配置文件结构调整，需要重新配置API密钥

## [1.0.0] - 2024-11-15

### 新增 ✨
- **基础AI聊天功能** - 基于DeepSeek AI的智能对话系统
- **环境感知系统** - AI能感知玩家周围的环境、天气、时间
- **性能自动优化** - 根据服务器TPS自动调整功能
- **多模式运行** - FULL/LITE/BASIC/EMERGENCY四种性能模式
- **命令系统** - 完整的管理命令支持
- **权限管理** - 基于Bukkit权限系统的访问控制
- **配置文件** - 丰富的配置选项适应不同服务器需求

### 功能特性
- **智能对话** - 自然流畅的AI对话体验
- **上下文记忆** - 支持对话历史记录
- **事件响应** - 玩家加入、受伤等事件的智能响应
- **速率限制** - 防止滥用的冷却时间机制
- **VIP支持** - VIP用户享受更短的冷却时间

---

## 版本说明

### 版本号格式
本项目使用语义化版本控制：`MAJOR.MINOR.PATCH`

- **MAJOR**: 不兼容的API修改
- **MINOR**: 向下兼容的功能新增
- **PATCH**: 向下兼容的问题修正

### 更新类型说明
- **新增 ✨**: 新功能
- **改进 🔧**: 现有功能的改进
- **修复 🐛**: 问题修复
- **安全 🔒**: 安全相关的修复
- **破坏性变更 ⚠️**: 可能影响现有功能的重大变更
- **废弃 📋**: 即将在未来版本中移除的功能
- **移除 🗑️**: 已移除的功能

### 支持政策
- **当前版本**: v1.2.0 - 完全支持
- **前一版本**: v1.1.0618 - 安全更新支持
- **更早版本**: 不再支持，建议升级

---

更多信息请查看 [GitHub Releases](https://github.com/zsbooody/ai-chat-plugin/releases)。 