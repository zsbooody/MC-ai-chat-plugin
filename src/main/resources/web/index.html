<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Chat Plugin - ÈÖçÁΩÆÁÆ°ÁêÜ‰∏≠ÂøÉ</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ü§ñ</text></svg>">
    
    <!-- Vue 3 Áîü‰∫ßÁâàÊú¨ CDN -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
    
    <!-- Font Awesome ÂõæÊ†á -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Ëá™ÂÆö‰πâÊ†∑Âºè -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="app">
        <app-container></app-container>
        </div>
        
    <!-- ÁªÑ‰ª∂Ê®°Êùø -->
    <script type="text/x-template" id="app-container-template">
        <div class="app-container">
            <!-- ËÆ§ËØÅÊ£ÄÊü•‰∏≠ -->
            <div v-if="isCheckingAuth" class="loading-container">
                <div class="loading-spinner">
                    <i class="fas fa-spinner fa-spin"></i>
                </div>
                <p>Ê≠£Âú®È™åËØÅËÆøÈóÆÊùÉÈôê...</p>
            </div>
            
            <!-- ÁôªÂΩïÈù¢Êùø -->
            <login-panel 
                v-else-if="!isAuthenticated"
                @login-success="handleLoginSuccess">
            </login-panel>
            
            <!-- Â∑≤ËÆ§ËØÅÁöÑ‰∏ªÁïåÈù¢ -->
            <template v-else>
                <!-- Â§¥ÈÉ® -->
                <header class="app-header">
                    <div class="header-content">
                        <h1 class="app-title">
                            <span class="app-icon">ü§ñ</span>
                            AI Chat Plugin
                        </h1>
                        <p class="app-subtitle">Êô∫ËÉΩÈÖçÁΩÆÁÆ°ÁêÜ‰∏≠ÂøÉ</p>
                    </div>
                    <div class="header-actions">
                        <button class="btn btn-sm btn-outline" @click="handleLogout">
                            <i class="fas fa-sign-out-alt"></i> ÈÄÄÂá∫
                        </button>
                    </div>
                </header>
                
                <!-- ‰∏ªÂÜÖÂÆπÂå∫ -->
                <main class="app-main">
                    <dashboard 
                        :status="systemStatus"
                        :config="systemConfig"
                        @open-config="showConfigPanel = true"
                        @open-benchmark="showBenchmarkPanel = true"
                        @open-memory="showMemoryPanel = true"
                        @reload-config="reloadConfig"
                        @save-history="saveHistory"
                        @run-gc="runGC"
                        @apply-optimizations="applyOptimizations">
                    </dashboard>
                </main>
                
                <!-- ÈÖçÁΩÆÈù¢Êùø -->
                <config-panel 
                    v-if="showConfigPanel"
                    :config="systemConfig"
                    @close="showConfigPanel = false"
                    @save="saveConfig">
                </config-panel>
        
        <!-- Âü∫ÂáÜÊµãËØïÈù¢Êùø -->
                <benchmark-panel
                    v-if="showBenchmarkPanel"
                    @close="showBenchmarkPanel = false">
                </benchmark-panel>
                
                <!-- ÂÜÖÂ≠òËØ¶ÊÉÖÈù¢Êùø -->
                <memory-panel
                    v-if="showMemoryPanel"
                    @close="showMemoryPanel = false">
                </memory-panel>
            </template>
            
            <!-- ÈÄöÁü•ÁªÑ‰ª∂ -->
            <notification-toast
                v-if="notification.show"
                :type="notification.type"
                :message="notification.message"
                @close="notification.show = false">
            </notification-toast>
        </div>
    </script>
    
    <!-- ÂºïÂÖ•ÁªÑ‰ª∂Âíå‰∏ªÂ∫îÁî® -->
    <script src="services/api.js"></script>
    <script src="components/LoginPanel.js"></script>
    <script src="components/Dashboard.js"></script>
    <script src="components/ConfigPanel.js"></script>
    <script src="components/BenchmarkPanel.js"></script>
    <script src="components/MemoryPanel.js"></script>
    <script src="components/NotificationToast.js"></script>
    <script src="app.js"></script>
</body>
</html> 